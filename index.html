<!DOCTYPE html>
<html>
    <head>
        <title>Bar Chart</title>
        <link rel="stylesheet" type="text/css" href="main.css">
        <script src="https://d3js.org/d3.v5.min.js"></script>
        <!-- <script src="script.js"></script> -->
    </head>
    <body>
        <h1 id="title">Bar Chart</h1>
        <p></p>
        <line x1="10" y1="10" x2="140" y2="140" stroke="black"></line>
        

            <script type="text/javascript">
            const dataset = [];
            const dataset2 = [12, 31, 22, 17, 25, 18, 29, 14, 9];
            const w = 1000
            const h = 500
        d3.select("body").append("p").text("Our First Paragraph using D3!");
        
        
        const svg = d3.select("body").append("svg").attr("width", w).attr("height", h);

        req = new XMLHttpRequest();
        req.open("GET", 'https://raw.githubusercontent.com/freeCodeCamp/ProjectReferenceData/master/GDP-data.json', true);
        req.send();
        req.onload = () => {
            json = JSON.parse(req.responseText);
            json.data.forEach((val) => { dataset.push(val[1]) })
            // console.log(dataset);
            // console.log(dataset[0]);
            // dataset.append(json.)
            svg.selectAll("rect")
                .data(dataset)
                .enter()
                .append("rect")
                .attr("x", (d, i) => i * 30)
                .attr("y", (d, i) => h - 3 * d)
                .attr("width", 25)
                .attr("height", (d, i) => 3 * d)
                .attr("fill", "navy");
        }

        
  
        </script>
    </body>
    <footer>
        
            
        
    </footer>
</html>